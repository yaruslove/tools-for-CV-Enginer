# YOLO Dataset Image Copier

Скрипт для фильтрации изображений на основе непустых YOLO разметок. Копирует только те изображения, для которых существуют непустые `.txt` файлы аннотаций.

## Функционал

- ✅ Анализирует `.txt` файлы в директории с разметкой YOLO
- ✅ Фильтрует только непустые файлы аннотаций  
- ✅ Копирует соответствующие изображения в целевую папку
- ✅ Поддерживает популярные форматы изображений
- ✅ Простая конфигурация через YAML

## Установка

```bash
# Клонируйте репозиторий или скачайте файлы
git clone <repository-url>
cd yolo-image-copier

# Установите зависимости
pip install pyyaml
```

## Использование

### 1. Создайте конфигурационный файл

Создайте `config.yaml` в директории со скриптом:

```yaml
src_labels: "path/to/labels"     # Папка с .txt файлами разметки
src_images: "path/to/images"     # Папка с исходными изображениями  
dst_images: "path/to/filtered"   # Папка для отфильтрованных изображений
```

### 2. Запустите скрипт

```bash
python yolo_copier.py
```

## Пример

**Структура данных:**
```
dataset/
├── labels/
│   ├── image001.txt      # Пустой файл - игнорируется
│   ├── image002.txt      # Содержит разметку - обрабатывается
│   └── image003.txt      # Содержит разметку - обрабатывается
├── images/
│   ├── image001.jpg
│   ├── image002.jpg
│   └── image003.png
└── filtered/             # Создается автоматически
    ├── image002.jpg      # Скопировано
    └── image003.png      # Скопировано
```

**Конфигурация:**
```yaml
src_labels: "dataset/labels"
src_images: "dataset/images" 
dst_images: "dataset/filtered"
```

## Поддерживаемые форматы

**Изображения:** `.jpg`, `.jpeg`, `.png`, `.bmp`, `.tiff`, `.webp`  
**Разметка:** `.txt` (формат YOLO)

## Логика работы

1. **Анализ разметки** - проверяет все `.txt` файлы в `src_labels`
2. **Фильтрация** - отбирает только непустые файлы с содержимым
3. **Извлечение префиксов** - получает имена файлов без расширения `.txt`
4. **Поиск изображений** - ищет изображения с совпадающими именами в `src_images`
5. **Копирование** - копирует найденные изображения в `dst_images`

## Вывод программы

```bash
Найдено непустых лейблов: 150
Скопировано: image002.jpg
Скопировано: image003.png
...
Всего скопировано: 150
Завершено!
```

## Обработка ошибок

Скрипт использует `assert` для четких сообщений об ошибках:

- ❌ `Файл конфигурации config.yaml не найден!`
- ❌ `Отсутствуют обязательные параметры в конфигурации`  
- ❌ `Директория с лейблами не найдена: path/to/labels`
- ❌ `Не найдено непустых файлов лейблов`

## Требования

- Python 3.6+
- PyYAML

## Лицензия

MIT License